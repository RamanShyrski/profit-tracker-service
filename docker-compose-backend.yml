version: '3.6'
services:
  mariadb:
    image: mariadb:10.7
    ports:
      - "3306:3306"
    networks:
      - profit-tracker-service-network
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: profit-tracker-service
      MYSQL_USER: profit-tracker-service
      MYSQL_PASSWORD: profit-tracker-service
    volumes:
      - D:/DockerSpace/mariadb-profit-tracker-service:/var/lib/mysql #change to your local folder
  profit-tracker-backend:
     image: rshyrski/profit-tracker-service:latest
     networks:
       - profit-tracker-service-network
     ports:
       - "8080:8080"
     environment:
       COGNITO_CLIENT_ID:
       COGNITO_KEY_SET_URL:
       MARIADB_URL: jdbc:mariadb://mariadb/profit-tracker-service
       AWS_KEY_ID:
       AWS_KEY_SECRET:
networks:
  profit-tracker-service-network: {}